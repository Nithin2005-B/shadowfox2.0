<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SLV Shop - Admin Orders</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Admin Dashboard - Orders</h1>
  </header>

  <section id="ordersSection">
    <div id="ordersList"></div>
  </section>

  <script>
    // Fetch orders from backend
    fetch("http://localhost:5000/orders")
      .then(res => res.json())
      .then(orders => {
        const ordersList = document.getElementById("ordersList");
        if (orders.length === 0) {
          ordersList.innerHTML = "<p>No orders yet.</p>";
        } else {
          ordersList.innerHTML = orders.map(order => `
            <div class="order-card">
              <h3>Order #${order.id}</h3>
              <p><strong>Name:</strong> ${order.name}</p>
              <p><strong>Address:</strong> ${order.address}</p>
              <p><strong>Payment:</strong> ${order.payment}</p>
              <p><strong>Date:</strong> ${order.date}</p>
              <p><strong>Total:</strong> â‚¹${order.total}</p>
              <ul>
                ${order.items.map(i => `<li>${i.name} x ${i.quantity}</li>`).join("")}
              </ul>
            </div>
          `).join("");
        }
      })
      .catch(err => alert("Error fetching orders"));
      app.get('/admin', (req, res) => {
  res.sendFile(path.join(__dirname, 'public', 'admin.html'));
});

  </script>
</body>
</html>
